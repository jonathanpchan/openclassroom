<!DOCTYPE html>
<html>
  <head></head>
  <body>
    <h1 class ="roomName">{{rooms?.building}}-{{rooms?.room}}</h1>
    <div class = "timesection">
      <h2>Open Times </h2>
    
      <h2>Monday</h2>
      <div class = "dayContainer" *ngFor="let time of rooms?.mon let i = index">
        <div class = "day">
          <h3 class = "timeContainer" >Open From {{timeFormat(time.st)}} - {{timeFormat(time.et)}}</h3>
          <button type="button" class="uVote" class="btn btn-primary btn-md" (click)="vote('mon', i, 1)" >
            <span class="fa fa-thumbs-up" aria-hidden="true"></span>{{time.uVote}}
          </button>
          <button type="button" class="dVote" class="btn btn-default btn-md" (click)="vote('mon', i, -1)" >
            <span class="fa fa-thumbs-down" aria-hidden="true"></span>{{time.dVote}}
          </button>
        </div>    
        <div class = "featureSection">
          <h2>Features</h2>
          <div class = "featureContainer">
            <div class = "feature">
              <h3 class = "featureName">outlets</h3>
              <p class = "uVote" (click)="outletUvote()">outlets upvote - {{rooms.hasOutlets.uVote}}</p>
              <p class = "dVote" (click)="outletDvote()">outlets downvote - {{rooms.hasOutlets.dVote}}</p>
            </div>
          </div>
          <div class = "featureContainer">
            <div class = "feature">
              <h3 class = "featureName">White Board</h3>
              <p class = "uVote" (click)="wBoardUvote()">White Board upvote - {{rooms.whiteBoard.uVote}}</p>
              <p class = "dVote" (click)="wBoardDvote()">White Board downvote - {{rooms.whiteBoard.dVote}}</p>
            </div>
          </div>
        </div>
      </div>
      <h2>Tuesday</h2>
      <div class = "dayContainer" *ngFor="let time of rooms?.tue let i = index">
        <div class = "day">
          <h3 class = "timeContainer" >Open From {{timeFormat(time.st)}} - {{timeFormat(time.et)}}</h3>
          <button type="button" class="uVote" class="btn btn-primary btn-md" (click)="vote('tue', i, 1)" >
            <span class="fa fa-thumbs-up" aria-hidden="true"></span>{{time.uVote}}
          </button>
          <button type="button" class="dVote" class="btn btn-default btn-md" (click)="vote('tue', i, -1)" >
            <span class="fa fa-thumbs-down" aria-hidden="true"></span>{{time.dVote}}
          </button>
        </div>
        <div class = "commentSection">
          <h2>Comments</h2>
          <div class = "commentContainer" *ngFor = "let comment of rooms.comments">
            <p class = "comment">"{{comment.content}}"</p>
            <p class = "commentUser">{{comment.username}} </p>
            <p class = "uVote" (click)="commentUvote(comment.username)">comment upvote - {{comment.uVote}}</p>
            <p class = "dVote" (click)="commentDvote(comment.username)">comment downvote - {{comment.dVote}}</p>
            <p class = "date">{{comment.date}}</p>
          </div>
        </div>
      </div>
      <h2>Wednesday</h2>
      <div class = "dayContainer" *ngFor="let time of rooms?.wed let i = index">
        <div class = "day">
          <h3 class = "timeContainer" >Open From {{timeFormat(time.st)}} - {{timeFormat(time.et)}}</h3>
          <button type="button" class="uVote" class="btn btn-primary btn-md" (click)="vote('wed', i, 1)" >
            <span class="fa fa-thumbs-up" aria-hidden="true"></span>{{time.uVote}}
          </button>
          <button type="button" class="dVote" class="btn btn-default btn-md" (click)="vote('wed', i, -1)" >
            <span class="fa fa-thumbs-down" aria-hidden="true"></span>{{time.dVote}}
          </button>
        </div>
      </div>
      <h2>Thursday</h2>
      <div class = "dayContainer" *ngFor="let time of rooms?.thu let i = index">
        <div class = "day">
          <h3 class = "timeContainer" >Open From {{timeFormat(time.st)}} - {{timeFormat(time.et)}}</h3>
          <button type="button" class="uVote" class="btn btn-primary btn-md" (click)="vote('thu', i, 1)" >
            <span class="fa fa-thumbs-up" aria-hidden="true"></span>{{time.uVote}}
          </button>
          <button type="button" class="dVote" class="btn btn-default btn-md" (click)="vote('thu', i, -1)" >
            <span class="fa fa-thumbs-down" aria-hidden="true"></span>{{time.dVote}}
          </button>
        </div>
      </div>
    </div>
    
    <div class = "featureSection">
      <h2>Features</h2>
      <div class = "featureContainer">
        <div class = "feature" *ngIf="loaded">
          <h3 class = "featureName">Outlets</h3>
          <button type="button" class="uVote" class="btn btn-primary btn-md" (click)="vote('hasOutlets', -1, 1)" >
            <span class="fa fa-thumbs-up" aria-hidden="true"></span>{{rooms.hasOutlets.uVote}}
          </button>
          <button type="button" class="dVote" class="btn btn-default btn-md" (click)="vote('hasOutlets', -1, -1)" >
            <span class="fa fa-thumbs-down" aria-hidden="true"></span>{{rooms.hasOutlets.dVote}}
          </button>
        </div>
      </div>
      <div class = "featureContainer">
        <div class = "feature" *ngIf="loaded">
          <h3 class = "featureName">White Board</h3>
          <button type="button" class="uVote" class="btn btn-primary btn-nd" (click)="vote('whiteBoard', -1, 1)" >
            <span class="fa fa-thumbs-up" aria-hidden="true"></span>{{rooms.whiteBoard.uVote}}
          </button>
          <button type="button" class="dVote" class="btn btn-default btn-md"(click)="vote('whiteBoard', -1, -1)" >
            <span class="fa fa-thumbs-down" aria-hidden="true"></span>{{rooms.whiteBoard.dVote}}
          </button>
        </div>
      </div>
    </div>
    
    <div class = "commentSection">
      <h2>Comments</h2>
      <form id = "commentBox" (submit)="onCommentSubmit()">
        Add A Comment:
        <input class="form-control" [(ngModel)]="comment" name="comment">
        <input type="submit" class="btn btn-primary" value="Submit">
      </form>
      <div class = "commentContainer" *ngFor = "let comment of rooms?.comments let i = index">
        <p class = "comment">"{{comment.content}}"</p>
        <p class = "commentUser">{{comment.email}} </p>
        <button type="button" class="uVote" class="btn btn-primary btn-sm"  (click)="vote('comments', i, 1)" >
          <span class="fa fa-thumbs-up" aria-hidden="true"></span> {{comment.uVote}}
        </button>
        <button type="button"  class="dVote" class="btn btn-default btn-sm" (click)="vote('comments', i, -1)" >
          <span class="fa fa-thumbs-down" aria-hidden="true"></span> {{comment.dVote}}
        </button>
        <p class = "date">{{comment.date}}</p>
      </div>
    </div>
  </body>
</html>